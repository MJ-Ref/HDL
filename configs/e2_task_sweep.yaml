# E2: Task Family Sweep
# Tests text baselines across all task types
# Goal: Identify which tasks benefit most from communication

name: e2_task_sweep
description: Text baselines across constraint satisfaction, arithmetic, program synthesis

extends: base.yaml

model:
  name: meta-llama/Llama-3.2-1B-Instruct
  dtype: float16
  device_map: auto
  temperature: 0.7

# Sweep across task types
tasks:
  - family: synthetic
    task_type: constraint_satisfaction
    difficulty: medium
    n_episodes: 50
  - family: synthetic
    task_type: arithmetic
    difficulty: medium
    n_episodes: 50
  - family: synthetic
    task_type: program_synthesis
    difficulty: medium
    n_episodes: 50

# Core protocols for comparison
protocols:
  - name: P0
    type: text
    description: No communication baseline
  - name: P1
    type: text
    description: Full text channel
  - name: P2
    type: text
    max_bytes_per_message: 256
    description: Budgeted text (256 bytes)

safety:
  enabled: true
  compliance_gap_threshold: 0.20

logging:
  output_dir: outputs/e2_task_sweep
  save_episodes: true
  save_format: both

n_seeds: 3
base_seed: 42
max_turns: 15

# Analysis focus
analysis:
  compare_by: task_type
  metrics:
    - success_rate
    - partial_credit
    - bits_used
    - turns_to_complete
