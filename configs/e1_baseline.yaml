# E1: Baseline Validation
# Tests text baselines (P0-P5) on constraint satisfaction
# Goal: Establish P1 >> P0 baseline, measure communication benefit

name: e1_baseline_validation
description: Text baseline validation on constraint satisfaction tasks

# Inherit from base
extends: base.yaml

model:
  name: meta-llama/Llama-3.2-1B-Instruct
  dtype: float16
  device_map: auto
  temperature: 0.7

task:
  family: synthetic
  task_type: constraint_satisfaction
  difficulty: medium
  n_episodes: 100

# Run all text baselines
protocols:
  - name: P0
    type: text
    description: No communication baseline
  - name: P1
    type: text
    description: Full text channel
  - name: P2
    type: text
    max_bytes_per_message: 256
    description: Budgeted text (256 bytes)
  - name: P3
    type: text
    max_bytes_per_message: 64
    description: Budgeted text (64 bytes)
  - name: P4
    type: text
    max_bytes_per_message: 16
    description: Budgeted text (16 bytes)
  - name: P5
    type: text
    max_bytes_per_message: 4
    description: Budgeted text (4 bytes)

safety:
  enabled: true
  compliance_gap_threshold: 0.20

logging:
  output_dir: outputs/e1_baseline
  save_episodes: true
  save_format: both

n_seeds: 5
base_seed: 42
max_turns: 10

# Pre-registered hypotheses
hypotheses:
  H1:
    name: communication_benefit
    description: P1 success rate significantly exceeds P0
    test: proportion_test
    alpha: 0.05

# Exit criteria
exit_criteria:
  - metric: success_rate_p1
    operator: gt
    threshold: 0.1
    description: P1 must achieve >10% success
  - metric: success_gap_p1_p0
    operator: gt
    threshold: 0.05
    description: P1 must exceed P0 by >5%
